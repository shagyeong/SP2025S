{% extends "mainpage/base.html" %}
{% load static %}

{% block title %}ê³µìœ  ë¬¸ì„œ{% endblock %}

{% block content %}
<div class="container">
  <h2>ğŸ“„ íŒ€ë³„ ê³µìœ  ë¬¸ì„œ</h2>

  <div class="team-button-group">
    <label>íŒ€ ì„ íƒ:</label>
    {% if not teams %}
        <span>ì°¸ì—¬ ì¤‘ì¸ íŒ€ì´ ì—†ìŠµë‹ˆë‹¤.</span>
    {% else %}
        {% for team_item in teams %}
            {# ê³µí†µ ë²„íŠ¼ í´ë˜ìŠ¤ 'team-select-button' ì‚¬ìš© (ì˜ˆì‹œ) #}
            <a href="?team={{ team_item.team_id }}"
               class="team-select-button {% if selected_team and team_item.team_id == selected_team.team_id %}active{% endif %}">
                {{ team_item.team_name|default:team_item.team_id }}
            </a>
        {% endfor %}
    {% endif %}
  </div>

  {% if iframe_url %}
    <div class="notion-preview-card">
      <h3><span class="icon">ğŸ”—</span> {{ selected_team.team_name }} ë¬¸ì„œ</h3> {# ì•„ì´ì½˜ì„ spanìœ¼ë¡œ ê°ì‹¸ì„œ ìŠ¤íƒ€ì¼ë§ ìš©ì´í•˜ê²Œ #}
      <p>ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ Notionì—ì„œ ë¬¸ì„œë¥¼ í™•ì¸í•˜ê³  í¸ì§‘í•˜ì„¸ìš”.</p>
      <a href="{{ iframe_url }}" target="_blank" class="btn-notion-link">
        Notion ë¬¸ì„œ ì—´ê¸°
      </a>
    </div>
  {% else %}
    {% if selected_team %}
        <div class="notion-preview-card" style="background-color: #FFFBEB; border-color: #FDE68A;"> {# ê²½ê³  ë©”ì‹œì§€ ì¹´ë“œ ìŠ¤íƒ€ì¼ #}
            <h3 style="color: #CA8A04;"><span class="icon">âš ï¸</span> ë¬¸ì„œ ì—†ìŒ</h3>
            <p><strong>{{ selected_team.team_name }}</strong> íŒ€ì˜ ê³µìœ  ë¬¸ì„œ(Notion ë§í¬)ê°€ ì•„ì§ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
            <p><small>ê´€ë¦¬ì ë˜ëŠ” íŒ€ ë¦¬ë”ì—ê²Œ ë¬¸ì˜í•˜ê±°ë‚˜, íŒ€ ìƒì„± ì‹œ Notion í˜ì´ì§€ê°€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.</small></p>
        </div>
    {% else %}
        <p>ë¨¼ì € ìœ„ì—ì„œ íŒ€ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
    {% endif %}
  {% endif %}
</div>
{% endblock %}
